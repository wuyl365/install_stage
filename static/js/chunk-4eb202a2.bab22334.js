(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eb202a2"],{1148:function(a,t,e){"use strict";var n=e("a691"),i=e("1d80");a.exports="".repeat||function(a){var t=String(i(this)),e="",o=n(a);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(e+=t);return e}},"408a":function(a,t,e){var n=e("c6b6");a.exports=function(a){if("number"!=typeof a&&"Number"!=n(a))throw TypeError("Incorrect invocation");return+a}},4965:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-form",{staticStyle:{margin:"10px"},attrs:{"label-width":"150px"}},[e("el-form-item",{attrs:{label:"应用名称"}},[e("el-row",[e("div",[e("el-input",{staticStyle:{width:"18em","padding-right":"20px"},attrs:{readonly:a.appNameReadOnly},model:{value:a.appData.app_name,callback:function(t){a.$set(a.appData,"app_name",t)},expression:"appData.app_name"}}),e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),a.changeAppNameClick(t)}}},[a._v(a._s(1==a.appNameReadOnly?"修改名称":"确认修改"))])],1)])],1),e("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"创建时间"}},[e("el-input",{staticStyle:{width:"45em","padding-right":"20px"},attrs:{readonly:!0},model:{value:a.appData.created_at,callback:function(t){a.$set(a.appData,"created_at",t)},expression:"appData.created_at"}})],1),e("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Appkey"}},[e("el-input",{staticStyle:{width:"45em","padding-right":"20px"},attrs:{readonly:!0},model:{value:a.appData.app_id,callback:function(t){a.$set(a.appData,"app_id",t)},expression:"appData.app_id"}}),e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.appData.app_id,expression:"appData.app_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:a.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:a.onCopyError,expression:"onCopyError",arg:"error"}],attrs:{type:"primary"}},[a._v("复制")])],1),e("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Android链接"}},[e("el-input",{staticStyle:{width:"45em","padding-right":"20px"},attrs:{readonly:a.androidInputReadOnly},model:{value:a.appData.apk_url,callback:function(t){a.$set(a.appData,"apk_url",t)},expression:"appData.apk_url"}}),e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),a.changeAndroidLinkClick(t)}}},[a._v(a._s(1==a.androidInputReadOnly?"修改链接":"确认修改"))])],1),e("el-form-item",{staticClass:"form-item",attrs:{label:"Andloid安装包"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"#","http-request":a.handleUpload,"on-success":a.handleSuccess,"on-change":a.handleOnChange,"before-remove":a.beforeRemove,limit:2,"file-list":a.androidList}},[e("el-button",{attrs:{size:"small",type:"primary"}},[a._v(a._s(a.androidUploadText))]),a.getApkSize?e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a._v("文件大小:"+a._s(a.getApkSize))]):a._e()],1)],1),e("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"iOS链接"}},[e("el-input",{staticStyle:{width:"45em","padding-right":"20px"},attrs:{readonly:a.iosInputReadOnly},model:{value:a.appData.ios_url,callback:function(t){a.$set(a.appData,"ios_url",t)},expression:"appData.ios_url"}}),e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),a.changeIosLinkeClick(t)}}},[a._v(a._s(1==a.iosInputReadOnly?"修改链接":"确认修改"))])],1),e("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Universal Links（iOS）"}},[e("el-input",{staticStyle:{width:"45em","padding-right":"20px"},attrs:{readonly:a.ulinkInputReadOnly},model:{value:a.appData.universal_link,callback:function(t){a.$set(a.appData,"universal_link",t)},expression:"appData.universal_link"}}),e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),a.changeUlinkeClick(t)}}},[a._v(a._s(1==a.ulinkInputReadOnly?"修改链接":"确认修改"))])],1)],1)],1)},i=[],o=(e("e9c4"),e("b0c0"),e("a434"),e("b680"),e("ad8f")),p=e("5c96"),r=(e("c7eb"),e("1da1"),e("d3b7"),e("c24f")),s=e("8237"),l=e.n(s),c=e("bc3a"),d=e.n(c);function u(a){return new Promise((function(t,e){h().then((function(n){var i=a.file.name,o=i.split("."),p=o.pop(),r=o[0],s=n.data.dir+"/"+l()(new Date+r)+"."+p,c=new FormData;c.append("name",a.file.name),c.append("key",s),c.append("policy",n.data.policy),c.append("OSSAccessKeyId",n.data.access_id),c.append("success_action_status",200),c.append("signature",n.data.signature),c.append("file",a.file),console.log("formdata:"+JSON.stringify(c));var d=n.data.prefix+"/"+s;f(c,n.data.host).then((function(a){console.log("alioss resp:"+JSON.stringify(a));var n={};200===a.status?(n["success"]=!0,n["url"]=d,t(n)):(n["success"]=!1,n["message"]=a.statusText,e(n))})).catch((function(a){var t={success:!1,message:a};console.log(a),e(t)}))})).catch((function(a){var t={success:!1,message:a};console.log(a),e(t)}))}))}function h(){return new Promise((function(a,t){Object(r["a"])().then((function(t){console.log("alioss config:"+JSON.stringify(t.data)),a(t.data)}))}))}function f(a,t){var e={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}};return d.a.post(t,a,e)}var m={name:"AppInfo",components:{},data:function(){return{appNameReadOnly:!0,createTime:"2023-09-11",appIcon:"应用图标",channelId:"",channelName:"",iconUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",androidInputReadOnly:!0,iosInputReadOnly:!0,ulinkInputReadOnly:!0,appData:{id:0,user_id:0,app_id:"",app_name:"",app_icon:"",status:0,apk_url:"",apk_size:0,ios_url:"",created_at:"",updated_at:"",universal_link:""},androidList:[],androidUploadText:"点击上传"}},computed:{getApkSize:function(){return this.appData.apk_size>0?this.getFormatBytes(this.appData.apk_size):0}},watch:{},created:function(){this.fetchData()},methods:{uploadIconClick:function(){},changeAppNameClick:function(){!0===this.appNameReadOnly?this.appNameReadOnly=!1:(this.changeAppInfoReq(this.appData.app_id,this.appData.app_name,void 0,void 0,void 0,void 0,void 0),this.appNameReadOnly=!0)},changeIosLinkeClick:function(){!0===this.iosInputReadOnly?this.iosInputReadOnly=!1:(this.changeAppInfoReq(this.appData.app_id,this.appData.app_name,void 0,void 0,void 0,this.appData.ios_url,void 0),this.iosInputReadOnly=!0)},changeAndroidLinkClick:function(){!0===this.androidInputReadOnly?this.androidInputReadOnly=!1:(this.changeAppInfoReq(this.appData.app_id,this.appData.app_name,void 0,this.appData.apk_url,void 0,void 0,void 0),this.androidInputReadOnly=!0)},changeUlinkeClick:function(){!0===this.ulinkInputReadOnly?this.ulinkInputReadOnly=!1:(this.changeAppInfoReq(this.appData.app_id,this.appData.app_name,void 0,void 0,void 0,void 0,this.appData.universal_link),this.ulinkInputReadOnly=!0)},onCopy:function(){Object(p["Message"])({message:"复制成功",type:"success",duration:2e3})},onCopyError:function(){Object(p["Message"])({message:"复制失败",type:"error",duration:2e3})},update:function(a){console.log("update"+a),this.dialogFormVisible=a},fetchData:function(){var a=this;console.log("startfetchData:"),this.listLoading=!0,Object(o["c"])().then((function(t){a.appData=t.data,console.log("getAppDetail:"+JSON.stringify(a.appData)),a.listLoading=!1}))},changeAppInfoReq:function(a,t,e,n,i,p,r){var s=this;if(a){var l={AppId:a};t&&(l["AppName"]=t),e&&(l["AppIcon"]=e),n&&(l["ApkUrl"]=n),i&&(l["ApkSize"]=i),p&&(l["IosUrl"]=p),r&&(l["universal_link"]=r),this.listLoading=!0,Object(o["a"])(l).then((function(a){s.appData=a.data,console.log("changeAppInfo:"+JSON.stringify(s.appData)),s.listLoading=!1,s.fetchData()}))}else alert("请上传appid")},beforeRemove:function(a,t){return this.$confirm("确定移除 ".concat(a.name,"？"))},handleSuccess:function(a,t,e){this.$message.warning("上传成功"),console.log(t),console.log(a),console.log(e)},handleOnChange:function(a,t){console.log("handle on change"),t.length>1&&t.splice(0,1)},handleUpload:function(a){this.appData.apk_size=a.file.size,u(a).then(this.uploadFinish).catch((function(a){console.log(a)}))},uploadFinish:function(a){console.log("handle upload finish "+JSON.stringify(a));var t=a["success"];if(!0===t)console.log("上传成功"),this.$message.warning("上传成功"),this.appData.apk_url=a["url"],this.androidUploadText="重新上传",this.changeAppInfoReq(this.appData.app_id,this.appData.app_name,void 0,this.appData.apk_url,this.appData.apk_size,void 0,void 0);else{var e=a["message"];this.$message.warning(e),console.log(e)}},getFormatBytes:function(a){var t=2;if(0===a||!a)return"";var e=1024,n=t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,o)).toFixed(n))+" "+i[o]}}},g=m,v=e("2877"),y=Object(v["a"])(g,n,i,!1,null,null,null);t["default"]=y.exports},a434:function(a,t,e){"use strict";var n=e("23e7"),i=e("23cb"),o=e("a691"),p=e("50c4"),r=e("7b0b"),s=e("65f0"),l=e("8418"),c=e("1dde"),d=e("ae40"),u=c("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u||!h},{splice:function(a,t){var e,n,c,d,u,h,y=r(this),_=p(y.length),b=i(a,_),k=arguments.length;if(0===k?e=n=0:1===k?(e=0,n=_-b):(e=k-2,n=m(f(o(t),0),_-b)),_+e-n>g)throw TypeError(v);for(c=s(y,n),d=0;d<n;d++)u=b+d,u in y&&l(c,d,y[u]);if(c.length=n,e<n){for(d=b;d<_-n;d++)u=d+n,h=d+e,u in y?y[h]=y[u]:delete y[h];for(d=_;d>_-n+e;d--)delete y[d-1]}else if(e>n)for(d=_-n;d>b;d--)u=d+n-1,h=d+e-1,u in y?y[h]=y[u]:delete y[h];for(d=0;d<e;d++)y[d+b]=arguments[d+2];return y.length=_-n+e,c}})},ad8f:function(a,t,e){"use strict";e.d(t,"c",(function(){return i})),e.d(t,"d",(function(){return o})),e.d(t,"f",(function(){return p})),e.d(t,"b",(function(){return r})),e.d(t,"g",(function(){return s})),e.d(t,"e",(function(){return l})),e.d(t,"a",(function(){return c}));var n=e("b775");function i(a){return Object(n["a"])({url:"/admin/api/v1/application/detail",method:"get"})}function o(a){return Object(n["a"])({url:"/admin/api/v1/application/list",method:"get",params:a})}function p(a){return Object(n["a"])({url:"/admin/api/v1/channel/list",method:"get",params:a})}function r(a){return Object(n["a"])({url:"/admin/api/v1/channel/create",method:"post",params:a})}function s(a){return Object(n["a"])({url:"/admin/api/v1/channel/statistic",method:"get",params:a})}function l(a){return Object(n["a"])({url:"/admin/api/v1/application/statistic",method:"get",params:a})}function c(a){return Object(n["a"])({url:"/admin/api/v1/application/create",method:"post",params:a})}},b680:function(a,t,e){"use strict";var n=e("23e7"),i=e("a691"),o=e("408a"),p=e("1148"),r=e("d039"),s=1..toFixed,l=Math.floor,c=function(a,t,e){return 0===t?e:t%2===1?c(a,t-1,e*a):c(a*a,t/2,e)},d=function(a){var t=0,e=a;while(e>=4096)t+=12,e/=4096;while(e>=2)t+=1,e/=2;return t},u=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){s.call({})}));n({target:"Number",proto:!0,forced:u},{toFixed:function(a){var t,e,n,r,s=o(this),u=i(a),h=[0,0,0,0,0,0],f="",m="0",g=function(a,t){var e=-1,n=t;while(++e<6)n+=a*h[e],h[e]=n%1e7,n=l(n/1e7)},v=function(a){var t=6,e=0;while(--t>=0)e+=h[t],h[t]=l(e/a),e=e%a*1e7},y=function(){var a=6,t="";while(--a>=0)if(""!==t||0===a||0!==h[a]){var e=String(h[a]);t=""===t?e:t+p.call("0",7-e.length)+e}return t};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(t=d(s*c(2,69,1))-69,e=t<0?s*c(2,-t,1):s/c(2,t,1),e*=4503599627370496,t=52-t,t>0){g(0,e),n=u;while(n>=7)g(1e7,0),n-=7;g(c(10,n,1),0),n=t-1;while(n>=23)v(1<<23),n-=23;v(1<<n),g(1,1),v(2),m=y()}else g(0,e),g(1<<-t,0),m=y()+p.call("0",u);return u>0?(r=m.length,m=f+(r<=u?"0."+p.call("0",u-r)+m:m.slice(0,r-u)+"."+m.slice(r-u))):m=f+m,m}})}}]);