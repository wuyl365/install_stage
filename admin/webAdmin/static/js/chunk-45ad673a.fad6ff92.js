(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45ad673a"],{1:function(e,t){},"13f1":function(e,t,a){"use strict";a("33b8")},"1f17":function(e,t,a){"use strict";a("d5ea")},2:function(e,t){},"33b8":function(e,t,a){},4965:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{staticStyle:{"padding-left":"20px"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"应用信息",name:"main"}}),a("el-tab-pane",{attrs:{label:"Android配置",name:"android"}}),a("el-tab-pane",{attrs:{label:"iOS配置",name:"ios"}})],1),a("div",{staticStyle:{margin:"20px"}},[a("AppInfo",{directives:[{name:"show",rawName:"v-show",value:e.isShow("main"),expression:"isShow('main')"}],ref:"mainInfoRef"}),a("AndroidInfo",{directives:[{name:"show",rawName:"v-show",value:e.isShow("android"),expression:"isShow('android')"}],ref:"androidInfoRef",attrs:{"is-diaplay":e.isShow("android")}}),a("IOSInfo",{directives:[{name:"show",rawName:"v-show",value:e.isShow("ios"),expression:"isShow('ios')"}],ref:"iosInfoRef"})],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-form",{staticClass:"info-form",attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"应用名称"}},[a("el-row",[a("div",[a("el-input",{staticStyle:{"padding-right":"20px","max-width":"60%"},attrs:{readonly:e.appNameReadOnly},model:{value:e.appData.app_name,callback:function(t){e.$set(e.appData,"app_name",t)},expression:"appData.app_name"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.changeAppNameClick(t)}}},[e._v(e._s(1==e.appNameReadOnly?"修改名称":"确认修改"))])],1)])],1),a("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"创建时间"}},[a("el-input",{staticStyle:{"padding-right":"20px","max-width":"60%"},attrs:{readonly:!0},model:{value:e.appData.created_at,callback:function(t){e.$set(e.appData,"created_at",t)},expression:"appData.created_at"}})],1),a("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Appkey"}},[a("el-input",{staticStyle:{"padding-right":"20px","max-width":"60%"},attrs:{readonly:!0},model:{value:e.appData.app_id,callback:function(t){e.$set(e.appData,"app_id",t)},expression:"appData.app_id"}}),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.appData.app_id,expression:"appData.app_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}],attrs:{type:"primary"}},[e._v("复制")])],1)],1)],1)])},s=[],l=a("5c96"),r={name:"AppInfo",components:{},data:function(){return{appNameReadOnly:!0,createTime:"2023-09-11",channelId:"",channelName:"",appData:{id:0,user_id:0,app_id:"",app_name:"",app_icon:"",status:0,apk_url:"",apk_size:0,ios_url:"",created_at:"",updated_at:"",universal_link:""},apkResult:{versionCode:0,versionName:"",package:""}}},computed:{},watch:{},created:function(){},methods:{getData:function(){var e=this.$store.getters["info/getAppInfo"];this.appData=e},onCopy:function(){Object(l["Message"])({message:"复制成功",type:"success",duration:2e3})},onCopyError:function(){Object(l["Message"])({message:"复制失败",type:"error",duration:2e3})}}},c=r,p=a("2877"),u=Object(p["a"])(c,o,s,!1,null,null,null),d=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-left":"10px",display:"flex","justify-content":"center"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.nav_android_doc(t)}}},[e._v("android接入文档")])],1),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"colum-wrap"},[a("p",[a("b",[e._v("包名(packageName):")]),e._v(e._s(e.apkInfo.package))]),a("p",[a("b",[e._v("文件大小：")]),e._v(e._s(e.apkSizeString))])]),a("div",{staticClass:"colum-wrap"},[a("p",[a("b",[e._v("上传时间：")]),e._v(e._s(e.createTime))]),a("p",[a("b",[e._v("版本号：")]),e._v(e._s(e.apkInfo.versionName))])])]),a("el-form",{staticClass:"info-form",staticStyle:{"margin-top":"40px"},attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"Android安装包:"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.uploadAction}},[e._v(e._s(e.isUploaded?"已上传 重新上传":"点击上传"))])],1),a("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Android链接:"}},[a("el-input",{staticStyle:{"max-width":"60%","padding-right":"20px"},attrs:{disabled:!0},model:{value:e.apkUrl,callback:function(t){e.apkUrl=t},expression:"apkUrl"}})],1)],1),a("div",{staticStyle:{"margin-top":"40px"}},[a("p",{staticStyle:{"font-weight":"bold"}},[e._v("任务列表")]),a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.taskList}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"name",width:"140"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:20!==t.row.stage?"primary":"success","disable-transitions":""}},[e._v(e._s(e.getTaskStatus(t.row)))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"开始时间",width:"180"}}),a("el-table-column",{attrs:{label:"进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{"stroke-width":20,percentage:e.getPercentage(t.row)}})]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px",margin:"20px"}},[a("el-pagination",{attrs:{small:"small","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),a("ReplaceApkDialog",{ref:"dialogTest",attrs:{"finish-block":e.finishReplaceAction}}),a("UploadDialog",{ref:"uploadDialogRef",attrs:{"sure-block":e.finishUploadAction}})],1)},h=[],g=(a("b680"),a("e9c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("el-dialog",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{lock:!0}}],staticClass:"dialog-wrap",attrs:{visible:e.isShow,title:"是否同步更新渠道apk包",width:"80%","element-loading-text":e.loadingText,"element-loading-spinner":"el-icon-loading"},on:{"update:visible":function(t){e.isShow=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(" 确认 ")])],1)]},proxy:!0}],null,!1,564455124)},[e.fullscreenLoading?a("el-button",{staticStyle:{position:"fixed",top:"0",right:"0",padding:"10px","z-index":"9999"},attrs:{type:"close-btn"},nativeOn:{click:function(t){return t.preventDefault(),e.closeLoading(t)}}},[e._v("关闭")]):e._e(),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{on:{change:e.handleCheckedChannelsChange},model:{value:e.checkedChannels,callback:function(t){e.checkedChannels=t},expression:"checkedChannels"}},e._l(e.pageList,(function(t){return a("el-checkbox",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t}},[e._v(e._s(t.channel_name)+" ("+e._s(t.channel_code)+")")])})),1)],1):e._e()}),m=[],v=a("2909"),k=(a("d3b7"),a("159b"),a("ad8f")),b={name:"ReplaceApkDialog",props:{finishBlock:{type:Function,default:function(){}}},data:function(){return{checkAll:!1,checkedChannels:[],channelList:[],pageList:[],isIndeterminate:!0,isShow:!1,total:0,currentPage:1,pageSize:1e3,fullscreenLoading:!1,loadingText:"拼命处理中...",time:""}},computed:{},watch:{isShow:function(e,t){!0===e&&this.getRequestData(1)}},beforeDestroy:function(){},methods:{getRequestData:function(e){var t=this;this.currentPage=e;var a={Page:this.currentPage,Limit:this.pageSize};Object(k["g"])(a).then((function(a){if(console.log("getChannelList:"+JSON.stringify(a)),0!==a.data.total){var n;if(t.pageList=a.data.data,1===e)t.channelList=a.data.data;else(n=t.channelList).push.apply(n,Object(v["a"])(a.data.data));t.total=a.data.total}else t.finishBlock("")}))},confirm:function(){this.isShow=!1;var e="";this.checkedChannels.length>0&&(this.checkedChannels.forEach((function(t){e+=t.id+","})),e=e.substring(0,e.length-1)),this.finishBlock(e)},cancel:function(){this.isShow=!1,this.finishBlock([])},showDialog:function(){console.log("showDialog"),this.isShow=!0},hideDialog:function(){this.isShow=!1},handleCheckAllChange:function(e){this.checkedChannels=e?this.channelList:[],this.isIndeterminate=!1},handleCheckedChannelsChange:function(e){this.checkedChannels=e},handleCurrentChange:function(e){this.currentPage=e,this.getRequestData(e)},showLoadingWithTime:function(e){var t=this;this.fullscreenLoading=!0;var a=1;e>=60?a=e/10:e>10&&(a=5),this.time=e,this.loadingText="处理中.... 预计还有"+this.time+"秒",this.waitTimeLoop(e,a,(function(){t.time-=a,t.loadingText="处理中.... 预计还有"+t.time+"秒"}),(function(){t.time=0,t.loadingText="处理完成",setTimeout((function(){t.fullscreenLoading=!1}),1e3)}))},waitTimeLoop:function(e,t,a,n){var i=Math.floor(e/t),o=0;function s(){setTimeout((function(){o++,o<i?(a(),s()):n()}),1e3*t)}s()},closeLoading:function(){this.fullscreenLoading=!1}}},_=b,y=(a("1f17"),Object(p["a"])(_,g,m,!1,null,null,null)),w=y.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"upload-dialog",attrs:{visible:e.isShow,title:"上传安卓apk包",width:"80%"},on:{"update:visible":function(t){e.isShow=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("取消")])],1)]},proxy:!0}])},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.uploading,expression:"uploading"}],staticClass:"dashboard-container",attrs:{"element-loading-text":"拼命上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"#","before-upload":e.beforeUpload,accept:".apk","http-request":e.handleUpload,"on-change":e.handleOnChange,"before-remove":e.beforeRemove,"on-remove":e.handleRemove,limit:2,"show-file-list":e.showFile}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传apk文件")])])],1),e.apkInfoDialogVisible?a("div",[a("ApkResultDialog",{attrs:{"is-show":e.apkInfoDialogVisible,"sure-block":e.sureUpload,"apk-result":e.apkResult}})],1):e._e()])},x=[],D=(a("b0c0"),a("a434"),a("c7eb"),a("1da1"),a("c24f")),C=a("8237"),I=a.n(C),O=a("bc3a"),R=a.n(O);function A(e){return new Promise((function(t,a){N().then((function(n){var i=e.file.name,o=i.split("."),s=o.pop(),l=o[0],r=n.data.dir+"/"+I()(new Date+l)+"."+s,c=new FormData;c.append("name",e.file.name),c.append("key",r),c.append("policy",n.data.policy),c.append("OSSAccessKeyId",n.data.access_id),c.append("success_action_status",200),c.append("signature",n.data.signature),c.append("file",e.file),console.log("formdata:"+JSON.stringify(c));var p=n.data.prefix+"/"+r;L(c,n.data.host).then((function(e){console.log("alioss resp:"+JSON.stringify(e));var n={};200===e.status?(n["success"]=!0,n["url"]=p,t(n)):(n["success"]=!1,n["message"]=e.statusText,a(n))})).catch((function(e){var t={success:!1,message:e};console.log(e),a(t)}))})).catch((function(e){var t={success:!1,message:e};console.log(e),a(t)}))}))}function N(){return new Promise((function(e,t){Object(D["a"])().then((function(t){console.log("alioss config:"+JSON.stringify(t.data)),e(t.data)}))}))}function L(e,t){var a={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}};return R.a.post(t,e,a)}var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.isVisiable,title:"请确认安装包的包名及版本号",width:"80%","before-close":e.handleClose,"append-to-body":""},on:{"update:visible":function(t){e.isVisiable=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("确认")])],1)]},proxy:!0}])},[a("span",[e._v("此配置为业务落地页中的下载地址,,配置后使用web sdk中的下载方法,准确度可以提升至98%以上")]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"包名:",prop:"apkResult.package"}},[a("span",[e._v(e._s(e.apkResult.package))])]),a("el-form-item",{attrs:{label:"版本号:",prop:"apkResult.versionName"}},[a("span",[e._v(e._s(e.apkResult.versionName))])]),a("el-form-item",{attrs:{label:"文件大小:",prop:"apkResult.apkSize"}},[a("span",[e._v(e._s(e.apkResult.apkSize))])]),a("el-form-item",{attrs:{label:"上传时间:"}},[a("span",[e._v(e._s(e.getCurTime))])])],1)],1)},B=[],T={name:"ApkResultDialog",props:{isShow:Boolean,sureBlock:{type:Function,default:function(){}},apkResult:{type:Object,default:function(){return{}}}},data:function(){return{isVisiable:this.isShow}},computed:{getCurTime:function(){return(new Date).toLocaleString()}},watch:{},created:function(){window.addEventListener("keydown",this.handkeyCode,!0)},methods:{confirm:function(){this.isVisiable=!1,this.sureBlock(!0)},cancel:function(){this.isVisiable=!1,this.sureBlock(!1)},handleClose:function(){this.isVisiable=!1,this.createSuccessBlock(!1)},handkeyCode:function(e){console.log(e),13===e.keyCode&&(console.log("触发了回车/空格键"),this.confirm())}}},$=T,z=Object(p["a"])($,U,B,!1,null,null,null),j=z.exports,P=a("15c6"),F={name:"UploadDialog",components:{ApkResultDialog:j},props:{sureBlock:{type:Function,default:function(){}}},data:function(){return{isShow:!1,apkInfoDialogVisible:!1,apkResult:{versionCode:0,versionName:"",package:"",apkSize:""},uploading:!1,uploadFile:Object,apk_size:0,showFile:!1,info:{},isCancelUpload:!1}},computed:{},watch:{},created:function(){},methods:{confirm:function(){this.isShow=!1},cancel:function(){this.isShow=!1,this.uploading&&(this.isCancelUpload=!0)},showDialog:function(){console.log("showDialog"),this.isShow=!0},hideDialog:function(){this.isShow=!1},beforeUpload:function(e){var t="application/vnd.android.package-archive"===e.type;return t},beforeRemove:function(e,t){var a="application/vnd.android.package-archive"===e.type;return a?this.$confirm("确定移除 ".concat(e.name,"？")):this.$message.error("只能上传 .apk 文件")},handleRemove:function(e,t){},handleOnChange:function(e,t){console.log("handle on change"),t.length>1&&t.splice(0,1)},sureUpload:function(e){console.log("update"+e),this.apkInfoDialogVisible=!1,e&&(this.uploading=!0,A(this.uploadFile).then(this.uploadFinish).catch((function(e){console.log(e)})))},handleUpload:function(e){console.log("aaa ="+e.file),this.uploadFile=e,this.parseApk(e.file),this.apkInfoDialogVisible=!0},uploadFinish:function(e){if(this.isCancelUpload)this.isCancelUpload=!1;else{console.log("handle upload finish "+JSON.stringify(e));var t=e["success"];if(this.uploading=!1,!0===t)console.log("上传成功"),this.$message.warning("上传成功"),this.hideDialog(),this.info["apkResult"]=this.apkResult,this.info["time"]=(new Date).toLocaleString(),this.info["apkSize"]=this.apk_size,this.info["url"]=e["url"],this.sureBlock(this.info);else{var a=e["message"];this.$message.warning(a),console.log(a)}}},getFormatBytes:function(e){var t=2;if(0===e||!e)return"";var a=1024,n=t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,o)).toFixed(n))+" "+i[o]},parseApk:function(e){var t=this,a=new P(e);a.parse().then((function(e){t.apkResult=e,t.apkResult.apkSize=t.getFormatBytes(t.uploadFile.file.size)})).catch((function(e){console.log("err ----\x3e ",e)}))}}},V=F,E=(a("13f1"),Object(p["a"])(V,S,x,!1,null,null,null)),M=E.exports,q=a("4360");function J(e){var t=e.appid,a=void 0===t?void 0:t,n=e.name,i=void 0===n?void 0:n,o=e.icon,s=void 0===o?void 0:o,l=e.androidUrl,r=void 0===l?void 0:l,c=e.apkSize,p=void 0===c?void 0:c,u=e.iosUrl,d=void 0===u?void 0:u,f=e.ulink,h=void 0===f?void 0:f,g=e.channelIdListStr,m=void 0===g?void 0:g,v=e.apkPackageName,b=void 0===v?void 0:v,_=e.apkVersion,y=void 0===_?void 0:_;return new Promise((function(e,t){a||(alert("请上传appid"),t("请上传appid"));var n={AppId:a};i&&(n["AppName"]=i),s&&(n["AppIcon"]=s),r&&(n["ApkUrl"]=r),p&&(n["ApkSize"]=p),d&&(n["IosUrl"]=d),h&&(n["universal_link"]=h),m&&""!==m&&(n["ChannelIdList"]=m),b&&(n["ApkPackageName"]=b),y&&(n["ApkVersion"]=y),Object(k["a"])(n).then((function(t){console.log("changeAppInfo:"+JSON.stringify(t.data)),e(t.data)})).catch((function(e){t(e)}))}))}function K(){return new Promise((function(e,t){Object(k["d"])().then((function(t){q["a"].commit("info/SET_APP_INFO",t.data),e(t.data)})).catch((function(e){t(e)}))}))}var G={name:"AndroidInfo",components:{ReplaceApkDialog:w,UploadDialog:M},props:{isDiaplay:{type:Boolean,default:!1}},data:function(){return{isUploaded:!1,createTime:"",apkSize:0,apkUrl:"请上传您的apk",apkInfo:{versionCode:0,versionName:"",package:""},currentPage:1,pageSize:10,taskList:[],total:0,isPageActive:!1,replaceDialogVisible:!1}},computed:{apkSizeString:function(){return this.getFormatBytes(this.apkSize)}},watch:{isDiaplay:function(e,t){e?(this.taskListRequest(1),this.isPageActive=!0,this.loopRefreshTask()):this.isPageActive=!1}},methods:{getData:function(){var e=this.$store.getters["info/getAppInfo"];this.apkInfo.package=e.apk_package_name,this.apkInfo.versionName=e.apk_version,this.createTime=e.updated_at,this.apkSize=e.apk_size,this.isUploaded=""!==this.apkInfo.package},confirm:function(){console.log("confirm"),this.$refs.dialogTest.showDialog()},uploadAction:function(){this.$refs.uploadDialogRef.showDialog()},finishUploadAction:function(e){this.apkInfo=e.apkResult,this.createTime=e.time,this.apkSize=e.apkSize,this.apkUrl=e.url,this.isUploaded=!0,console.log("apk info:"+e),this.$refs.dialogTest.showDialog()},finishReplaceAction:function(e){var t=this,a=this.$store.getters["info/getAppInfo"],n=a.app_id,i=a.app_name;""!==e?(console.log("finishReplaceAction"+e),J({appid:n,name:i,androidUrl:this.apkUrl,apkSize:this.apkSize,channelIdListStr:e,apkPackageName:this.apkInfo.package,apkVersion:this.apkInfo.versionName}).then((function(){t.$message.success("修改成功"),K().then((function(e){t.getData(),t.taskListRequest(1)}))})).catch((function(){t.$message.error("修改失败")}))):J({appid:n,name:i,androidUrl:this.apkUrl,apkSize:this.apkSize,apkPackageName:this.apkInfo.package,apkVersion:this.apkInfo.versionName}).then((function(){t.$message.success("修改成功"),K().then((function(e){t.getData(),t.taskListRequest(1)}))})).catch((function(){t.$message.error("修改失败")}))},nav_android_doc:function(){this.$router.push({path:"/doc/Android"})},getFormatBytes:function(e){var t=2;if(0===e||!e)return"";var a=1024,n=t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,o)).toFixed(n))+" "+i[o]},getPercentage:function(e){var t=100*e.reach_num/e.target_num;return t>100?100:t},taskListRequest:function(e){var t=this;this.currentPage=e;var a={Page:this.currentPage,Limit:this.pageSize};Object(k["i"])(a).then((function(e){console.log("getTaskList:"+JSON.stringify(e)),t.taskList=e.data.data,t.total=e.data.total}))},getTaskStatus:function(e){var t="";if(20===e.status)t="撤回";else switch(e.stage){case 0:t="等待执行";break;case 10:t="开始执行";break;case 20:t="执行完成";break;case 30:t="执行失败";break}return t},handleCurrentChange:function(e){this.taskListRequest(e)},loopRefreshTask:function(){var e=this;this.isPageActive&&setTimeout((function(){e.isPageActive&&(e.taskListRequest(1),e.loopRefreshTask())}),2e4)}}},Y=G,Z=(a("b8ee"),a("4d9f"),Object(p["a"])(Y,f,h,!1,null,"34d63738",null)),W=Z.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"center","margin-left":"10px"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.nav_ios_doc(t)}}},[e._v("iOS接入文档")])],1),a("el-form",{staticClass:"info-form",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"iOS链接"}},[a("el-input",{staticStyle:{"max-width":"60%","padding-right":"20px"},attrs:{readonly:e.iosInputReadOnly},model:{value:e.ios_url,callback:function(t){e.ios_url=t},expression:"ios_url"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.changeIosLinkeClick(t)}}},[e._v(e._s(1==e.iosInputReadOnly?"修改链接":"确认修改"))])],1),a("el-form-item",{staticStyle:{"padding-right":"5%"},attrs:{label:"Universal Links（iOS）"}},[a("el-input",{staticStyle:{"max-width":"60%","padding-right":"20px"},attrs:{readonly:e.ulinkInputReadOnly},model:{value:e.universal_link,callback:function(t){e.universal_link=t},expression:"universal_link"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.changeUlinkeClick(t)}}},[e._v(e._s(1==e.ulinkInputReadOnly?"修改链接":"确认修改"))])],1)],1)],1)},Q=[],X={name:"IOSInfo",components:{},data:function(){return{iosInputReadOnly:!0,ulinkInputReadOnly:!0,ios_url:"",universal_link:"",appid:"",appName:""}},watch:{},created:function(){},methods:{getData:function(){var e=this.$store.getters["info/getAppInfo"];this.ios_url=e.ios_url,this.universal_link=e.universal_link,this.appid=e.app_id,this.appName=e.app_name},changeUlinkeClick:function(){var e=this;!0===this.ulinkInputReadOnly?this.ulinkInputReadOnly=!1:(J({appid:this.appid,name:this.appName,ulink:this.universal_link}).then((function(t){K().then((function(t){e.getData()}))})),this.ulinkInputReadOnly=!0)},changeIosLinkeClick:function(){var e=this;!0===this.iosInputReadOnly?this.iosInputReadOnly=!1:(J({appid:this.appid,name:this.appName,iosUrl:this.ios_url}).then((function(t){K().then((function(t){e.getData()}))})),this.iosInputReadOnly=!0)},nav_ios_doc:function(){this.$router.push({path:"/doc/ios"})}}},ee=X,te=Object(p["a"])(ee,H,Q,!1,null,null,null),ae=te.exports,ne={name:"Appinfoindex",components:{AppInfo:d,AndroidInfo:W,IOSInfo:ae},data:function(){return{activeName:"main"}},watch:{activeName:function(e,t){console.log(e),e!==t&&("main"===e?(console.log("main"),this.$refs.mainInfoRef.getData()):"android"===e?(console.log("android"),this.$refs.androidInfoRef.getData()):"ios"===e&&(console.log("ios"),this.$refs.iosInfoRef.getData()))}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;K().then((function(t){e.$refs.mainInfoRef.getData(),e.$refs.androidInfoRef.getData(),e.$refs.iosInfoRef.getData()}))},isShow:function(e){return this.activeName===e},handleClick:function(e,t){console.log(e,t)}}},ie=ne,oe=(a("67ec"),Object(p["a"])(ie,n,i,!1,null,null,null));t["default"]=oe.exports},"4d9f":function(e,t,a){"use strict";a("e9cc")},"62c8":function(e,t,a){},"67ec":function(e,t,a){"use strict";a("62c8")},a51e:function(e,t,a){},ad8f:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return u})),a.d(t,"i",(function(){return d}));var n=a("b775");function i(e){return Object(n["a"])({url:"/admin/api/v1/application/detail",method:"get"})}function o(e){return Object(n["a"])({url:"/admin/api/v1/application/list",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/admin/api/v1/channel/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/admin/api/v1/channel/create",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/admin/api/v1/channel/del",method:"delete",params:e})}function c(e){return Object(n["a"])({url:"/admin/api/v1/channel/statistic",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/admin/api/v1/application/statistic",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/admin/api/v1/application/create",method:"post",params:e})}function d(e){return Object(n["a"])({url:"/admin/api/v1/task/list",method:"get",params:e})}},b8ee:function(e,t,a){"use strict";a("a51e")},d5ea:function(e,t,a){},e9cc:function(e,t,a){}}]);